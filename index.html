<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anime AI Voice Studio PRO</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url("background.png") no-repeat center center fixed;
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.overlay {
    background: rgba(0,0,0,0.65);
    backdrop-filter: blur(6px);
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    color: white;
    width: 520px;
    box-shadow: 0 0 35px #ff00cc;
}

h1 {
    color: #ff66ff;
    text-shadow: 0 0 15px #ff00cc;
}

textarea {
    width: 90%;
    height: 120px;
    border-radius: 12px;
    border: none;
    padding: 10px;
    margin: 15px 0;
    font-size: 16px;
}

select, button, input {
    padding: 10px;
    border-radius: 15px;
    border: none;
    margin: 8px;
    font-size: 14px;
}

button {
    background: linear-gradient(45deg, #ff00cc, #3333ff);
    color: white;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    transform: scale(1.1);
}

label {
    font-size: 13px;
}
</style>
</head>
<body>

<div class="overlay">
<h1>üéô Anime AI Voice Studio PRO</h1>

<textarea id="text" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —Ç—É—Ç..."></textarea><br>

<select id="language"></select>
<select id="voiceSelect"></select><br>

<label>üîä –®–≤–∏–¥–∫—ñ—Å—Ç—å:</label>
<input type="range" id="rate" min="0.5" max="2" step="0.1" value="1"><br>

<button onclick="speakText()">‚ú® –û–∑–≤—É—á–∏—Ç–∏</button>
<button onclick="stopText()">‚õî –°—Ç–æ–ø</button>
<button onclick="downloadAudio()">üíæ –°–∫–∞—á–∞—Ç—å WAV</button>

<p style="margin-top:15px; font-size:12px; opacity:0.7;">
Anime AI Voice ¬© 2026
</p>
</div>

<script>
let synth = window.speechSynthesis;
let voices = [];

function loadVoices() {
    voices = synth.getVoices();

    let languageSelect = document.getElementById("language");
    let voiceSelect = document.getElementById("voiceSelect");

    languageSelect.innerHTML = "";
    voiceSelect.innerHTML = "";

    let languages = [...new Set(voices.map(v => v.lang))];

    languages.forEach(lang => {
        let option = document.createElement("option");
        option.value = lang;
        option.textContent = lang;
        languageSelect.appendChild(option);
    });

    updateVoiceList();
}

function updateVoiceList() {
    let selectedLang = document.getElementById("language").value;
    let voiceSelect = document.getElementById("voiceSelect");
    voiceSelect.innerHTML = "";

    voices.filter(v => v.lang === selectedLang)
        .forEach(v => {
            let option = document.createElement("option");
            option.value = voices.indexOf(v);
            option.textContent = v.name;
            voiceSelect.appendChild(option);
        });
}

document.getElementById("language").addEventListener("change", updateVoiceList);

synth.onvoiceschanged = loadVoices;

function speakText() {
    let text = document.getElementById("text").value;
    if (!text) return alert("–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç!");

    let utterance = new SpeechSynthesisUtterance(text);
    let voiceIndex = document.getElementById("voiceSelect").value;
    let rate = document.getElementById("rate").value;

    utterance.voice = voices[voiceIndex];
    utterance.rate = rate;

    synth.speak(utterance);
}

function stopText() {
    synth.cancel();
}

/* –ó–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ MediaRecorder */
function downloadAudio() {
    alert("‚ö† –î–ª—è –∑–∞–ø–∏—Å–∏ –≤–∫–ª—é—á–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω (–±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)");

    navigator.mediaDevices.getUserMedia({audio:true}).then(stream => {
        let recorder = new MediaRecorder(stream);
        let chunks = [];

        recorder.ondataavailable = e => chunks.push(e.data);

        recorder.onstop = e => {
            let blob = new Blob(chunks, { type: 'audio/wav' });
            let url = URL.createObjectURL(blob);
            let a = document.createElement("a");
            a.href = url;
            a.download = "anime_voice.wav";
            a.click();
        };

        recorder.start();
        speakText();

        setTimeout(() => recorder.stop(), 5000);
    });
}
</script>

</body>
</html>
